<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="./list.css" />
    <style>
      body {
        padding: 30px;
        display: flex;
        justify-content: center;
        background-color: bisque;
      }
    </style>
  </head>
  <body>
    <div class="list">
      <svg>
        <circle id="bullet-1" fill="black"></circle>
        <path
          id="line-1"
          fill="none"
          stroke="blue"
          stroke-width="10"
          stroke-linejoin="round"
          z
        />
        <circle id="bullet-2" fill="black"></circle>
        <circle id="bullet-3" fill="black"></circle>
        <path
          id="line-3"
          fill="none"
          stroke="yellow"
          stroke-width="10"
          stroke-linejoin="round"
          z
        />
      </svg>
    </div>
  </body>
  <footer>
    <script>
      var d = document;
      var box = d.querySelector(".list");
      var dims = window.getComputedStyle(box, null);
      var svg = document.querySelector("svg");
      svg.setAttribute("width", dims.width);
      svg.setAttribute("height", dims.height);

      document.addEventListener("DOMContentLoaded", addBulletPoint);

      function addBulletPoint() {
        var dims = getTheCoordinates();
        var width = dims.width;
        var height = dims.height;

        var radius = String(Math.round(width / 30));
        console.log(`radius is ${radius}`);

        var bullet1 = document.querySelector("#bullet-1");
        bullet1.setAttribute("cx", String(width / 10));
        bullet1.setAttribute("cy", String((height * 1) / 4));
        bullet1.setAttribute("r", radius);

        var bullet2 = document.querySelector("#bullet-2");
        bullet2.setAttribute("cx", String(width / 10));
        bullet2.setAttribute("cy", String((height * 2) / 4));
        bullet2.setAttribute("r", radius);

        var bullet3 = document.querySelector("#bullet-3");
        bullet3.setAttribute("cx", String(width / 10));
        bullet3.setAttribute("cy", String((height * 3) / 4));
        bullet3.setAttribute("r", radius);
      }

      function getTheCoordinates() {
        // get starting and ending coordinates for the SVG object
        var box = document.querySelector(".list");
        var dims = box.getBoundingClientRect();

        return dims;
      }

      function makePathString() {
        // make the d="" stuff
        // determine coordinate
        var dims = getTheCoordinates();
        var originX = Math.trunc(dims.width / 5);
        var originY = Math.trunc((dims.height * 1) / 4);
        var yRange = Math.trunc(dims.height / 5);
        var pathWidth = dims.width * 0.75;

        // return number of words per line between 1 and 4
        var numWords = Math.floor(Math.random() * 4 + 1);
        for (let word = 0; word < numWords; word++) {
          
        }

        // return a number of random points from 4 to 20
        var numWordPoints = Math.floor(Math.random() * 16 + 4);
        var wordPoints = "";
        for (let point = 0; point < numWordPoints; point++) {
          let x = Math.trunc(originX + point * (pathWidth / numWordPoints));
          let y = Math.trunc(originY - Math.floor(Math.random() * yRange) + yRange * .5);
          wordPoints = wordPoints + " " + x + "," + y + "";
        }
        var path = "M" + wordPoints.trim();

        return path;
      }

      function drawSVG() {
        var line = document.querySelector("#line-1");
        var path = makePathString();
        console.log(path);
        line.setAttribute("d", path);
        console.log(
          `New path for ${line.id} set.\nThe path is set to:\n${line.d}`
        );
      }

      drawSVG();
    </script>
  </footer>
</html>
